{
  "hash": "adca1e59cc22e5824539b1524adb3f90",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Fall 2023 Weekly Updates\"\nnumber-sections: false\n---\n\n\n# This Week\n\n\n::: {.cell}\n\n:::\n## Week 12 Agenda\n\n-   Check-in on difficult + interesting things\n-   Exercise 2 and 4 solutions review (forgot this last week)\n-   **Lecture:** Reading and writing spatial data with R (continued)\n-   Spatial metadata\n\n### Check-in on interesting things\n\n### Check-in on difficult things\n\n- I'm still not sure I understand the differences between and advantages/disadvantages of using GeoJson, shapefiles, sf objects, or KML files.\n\n## Questions\n\nDo people actually create data dictionaries within R?\n\n----\n\nHow can we combine layers when making a map with `{ggplot2}`?\n\n----\n\nWhat is the difference between `{ggplot2}` and `{ggspatial}` packages? What makes one special over the other?\n\n\n\n## Week 14: November 29, 2023\n\n- Scheduling\n- Final project check-in\n- Lecture + discussion for spatial metadata\n\n## Week 12 Agenda\n\n-   Check-in on difficult + interesting things\n-   Exercise 2 and 4 solutions review (forgot this last week)\n-   **Lecture:** Reading and writing spatial data with R (continued)\n-   Spatial metadata\n\n### Check-in on interesting things\n\n### Check-in on difficult things\n\n- I'm still not sure I understand the differences between and advantages/disadvantages of using GeoJson, shapefiles, sf objects, or KML files.\n\n## Questions\n\nDo people actually create data dictionaries within R?\n\n----\n\nHow can we combine layers when making a map with `{ggplot2}`?\n\n----\n\nWhat is the difference between `{ggplot2}` and `{ggspatial}` packages? What makes one special over the other?\n\n::: {.cell}\n\n:::\n\n## Week 11 Agenda\n\n-   Questions about the final project\n-   Check-in on difficult + interesting things\n-   Exercise 2 and 4 review\n-   **Lecture + practice:** Editing OpenStreetMap and exploring OpenStreetMap data with the `{osmdata}` package\n-   **Lecture + practice:** Reading and writing spatial data with R\n\n### Final project questions\n\n- Can my proposal include a description of available data, even if I might not use it?\n- Do you have any example project presentations to share?\n- How do you determine the appropriate geographical scale for a project? e.g. county, tract, zip codes?\n\n::: notes\n\nhttps://github.com/bldgspatialdata22/exploreinaturalist\n\nhttps://github.com/bldgspatialdata22/visualizing_incarceration_final\n:::\n\n### Check-in on interesting things\n\n- \"OpenStreetMap has so much cool stuff\"\n\n### Check-in on interesting things\n\n![](https://cdn.masto.host/mapstodonspace/media_attachments/files/111/371/417/986/530/795/original/d75db9d24f4d3022.png)\n\n[Day 7 map](https://mapstodon.space/@awoodruff/111371425049773054) of the 30DayMapChallenge from Andy Woodruff\n\n### Check-in on difficult things\n\n- \"I am still getting used to working with long data formats instead of wider formats. I think what I am finding the most difficult is switching between the two from when I work in ArcGIS Pro and RStudio.\"\n\n::: {.cell}\n\n:::\n\n## Week 10 Agenda\n\n-   Check-in on difficult + interesting things\n-   Errors of the week\n-   **Lecture + practice:** Editing OpenStreetMap and exploring OpenStreetMap data with the `{osmdata}` package\n-   **Lecture + practice:** Exploring American Community Survey data with the `{tidycensus}` package\n-   Weekly questions\n\n### Check-in on difficult things\n\nThis week's difficult things:\n\n-   Issues getting Quarto documents to knit\n-   Challenge thinking of novel functions (when do I write a function?)\n\n### Check-in on interesting things\n\n-   `tigris::shift_geometry()`: \"It is cool that it can show geographically distant places in one map in a way that makes sense.\"\n-   \"I found it interesting that people hate YAML.\"\n-   The [the ggplot2 book chapter on Maps](https://ggplot2-book.org/maps.html) \"was really helpful for me to make the labeled maps and think of all the different ways we need to treat polygons when map making\"\n-   \"I don't think I realized how much [OpenStreetMap] relies on contributors.\"\n\n### Check-in on interesting things\n\n>I explored the OpenStreetMap this week, and it was amazing. I even located my parish back in India, which was surprisingly not labeled, and added it to the map. I officially contributed to OpenStreetMap!\n\n### Questions about the final project\n\n- Is it OK to do exploratory data analysis that combines multiple data sets with only limited maps?\n- What should the overall split of documentation to coding be on the final project?\n- How deeply should we be looking into the real-life implications of our data and our results?\n\n::: {.cell}\n\n:::\n\n## Week 9 Agenda\n\n-   Check-in on difficult + interesting things\n-   Errors of the week\n-   **Lecture + practice (continued):** Exploratory data analysis with `{sf}` and the tidyverse\n-   **Lecture + practice:** Editing OpenStreetMap and exploring OpenStreetMap data with the `{osmdata}` package\n-   Weekly questions\n\n### Check-in\n\nThis week's difficult things:\n\n-   Issues getting Quarto documents to knit\n-   Challenge thinking of novel functions (when do I write a function?)\n\nThis week's interesting things:\n\n-   ...\n\n### Errors for the week\n\n`ERROR: YAMLException: bad indentation of a mapping entry (_quarto.yml, 10:7)`\n\nTake a look at the Quarto [configuration options for website navigation](https://quarto.org/docs/reference/projects/websites.html#nav-items) for more information.\n\n###Lecture\n\nüñ•Ô∏è [Editing OpenStreetMap and exploring OpenStreetMap data with the `{osmdata}` package](/slides/open-street-map.html)\n\n---\ncode-link: true\n---\n\n::: {.cell}\n\n:::\n\n## Week 8 Agenda\n\n-   Check-in on difficult + interesting things\n-   Feedback on course experience (things to change, add, or keep)\n-   Errors of the week\n-   **Lecture + practice:** Exploratory data analysis with `{sf}` and the tidyverse\n-   Weekly questions\n\n### Check-in\n\nThis week's difficult things:\n\n-   Quarto can be confusing\n-   Writing functions is hard\n-   Naming functions is even harder\n\nThis week's interesting things:\n\n-   Functions can be a powerful tool\n-   Quarto has an exciting level of flexibility\n\n### Course feedback from you (and me)\n\nThings to change:\n\n-   Start with slides + code demonstration (saving the check-ins + questions for the end)\n-   Try a remote session where students can screen share, see and understand each other's work, and receive help on our code\n-   Share more feedback on completed exercises\\*\n\n### Course feedback from you (and me)\n\nThings to add:\n\n-   Distributing slides in advance of class and spend class time on coding exercises and trouble-shooting\n-   Spend more time on how to make maps with `{sf}`, `{ggplot2}`, and R\n-   Share exercise solutions for review\\*\n\n### Course feedback from you (and me)\n\nThings to keep the same:\n\n-   Exercises that include debugging a code snippet\n-   Sharing good questions for weekly check-ins*\n\n### Errors for the week\n\n`IllegalArgumentException: Points of LinearRing do not form a closed linestring`\n\nTake a look at `sf::st_is_valid()` and `sf::st_make_valid()`.\n\n### Errors for the week\n\n`Error in UseMethod(\"mutate\") : no applicable method for 'mutate' applied to an object of class \"function\"`\n\nAlways double-check your inputs and outputs! When an error tells you it has `no applicable method` for a specific input‚Äîyou may be passing a different object than you think you are. \n\n### Lecture\n\nüñ•Ô∏è [Exploratory data analysis](/slides/exploratory-analysis.html)\n\n### Questions on tidy data\n\n**After you tidy data, where or how do you start looking in order to make sense of it?**\n\n### Questions on Quarto\n\n**Why did Quarto render a bunch of figures from the quarto md files of exercises due in previous weeks?**\n\n**How do you duplicate of a Quarto document?**\n\n### Questions on functions\n\n**Is there a way to embed a function within one another?**\n\nYes! You can define a function within a function like this:\n\n::: {.cell}\n\n```{.r .cell-code}\nexample_fn <- function(...) {\n  embedded_fn <- function(..., collapse = \",\") {\n    paste0(..., collapse = collapse)\n  }\n\n  embedded_fn(...)\n}\n```\n:::\n\n------------------------------------------------------------------------\n\nYou can also use [anonymous functions and shortcuts](https://adv-r.hadley.nz/functionals.html#purrr-shortcuts) (especially inside of tidyverse functions that translate the \"tilde\" formula style notation into a function):\n\n::: {.cell}\n\n```{.r .cell-code}\nmap_dbl(mtcars, \\(x){\n  length(unique(x))\n})\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n mpg  cyl disp   hp drat   wt qsec   vs   am gear carb \n  25    3   27   22   22   29   30    2    2    3    6 \n```\n\n\n:::\n\n```{.r .cell-code}\nmap_dbl(mtcars, ~ length(unique(.x)))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n mpg  cyl disp   hp drat   wt qsec   vs   am gear carb \n  25    3   27   22   22   29   30    2    2    3    6 \n```\n\n\n:::\n:::\n\n------------------------------------------------------------------------\n\n**Is there any set of naming convention for functions that most people use?**\n\nUse what the function *does* as a guide.\n\nTry an¬†`object_verb()`¬†naming scheme for functions take a common data type or interact with a common API where¬†`object`¬†refers to the data/API and¬†`verb`¬†the primary action. (see the [Function and argument](https://devguide.ropensci.org/building.html#function-and-argument-naming) recommendations in the[ Packaging Guide](https://devguide.ropensci.org/building.html) section of the [rOpenSci Packages](https://devguide.ropensci.org/index.html) book)\n\nFor example:\n\n- **stringi**, functions starting with¬†`stri_`¬†manipulate strings (`stri_join()`,¬†`stri_sort()`\n- **googlesheets**¬†functions starting with¬†`gs_`¬†are calls to the Google Sheets API `gs_auth()`,¬†`gs_user()`,¬†`gs_download()`\n\n----\n\n**When creating a function is there a way to save it to your R project so if you were to start a new script document you can still use the function?**\n\n------------------------------------------------------------------------\n\n**How do we create a data frame and store the output from a function in a data frame?**\n\n------------------------------------------------------------------------\n\n**What are the advantages of using `return()` over using nested logic (e.g. `if (...) { } else { }`) when writing functions?**\n\n------------------------------------------------------------------------\n\n**How do we determine these thresholds for other variables in different datasets?**\n\n------------------------------------------------------------------------\n\n**If the list of our arguments/inputs are column values from a data frame, how do we call the entire list of our arguments/inputs from that data frame after the function executes?**\n\n## Week 7: October 11, 2023\n\nThese past updates are in reverse chronological order.\n\n### Due this week\n\n* Exercise 6 is due this Friday!\n* Readings on scripts, functions, and Quarto. \n\n### Due next week\n\n* Make a mapping function and use it in a Quarto document!\n\n### Your interesting things!\n\n----\n\nThe reasoning behind why sometimes you can use pipes and sometimes not finally clicked with me! I had been trying to use pipes for everything and didn't understand why it wasn't working -- getting that down was really helpful.\n\n----\n\nI have found that it super interesting to determine how to tidy data, like taking the time to make logical sense of the data is great but this also leads to what I find most difficult.\n\n----\n\nI really enjoyed the independence of going out and located are own data and being able to manipulate it in R. Feels like the first step into the real world.\n\n----\n\nJoining is just *so much easier* in R as opposed to ArcGIS or QGIS.\n\n----\n\n### Your difficult things\n\nOne of the most challenging concepts or topics for me from all the syllabus covered till now is the `st_()` functions.\n\nThere are a lot of geometry operations and each has a different set of parameters and features, which are mostly confusing.\n\n### Your questions\n\n#### Trouble-shooting code questions\n\nWhy does `plot()` make 6 maps instead of 1?\n\n::: {.cell}\n\n```{.r .cell-code}\nmaryland <- us_states |>\n  select(NAME) |>\n  filter(NAME == \"Maryland\")\n\nstates_intersecting_md <- st_filter(\n  us_states,\n  maryland,\n  .predicate = st_intersects\n)\n\nplot(states_intersecting_md)\n```\n\n::: {.cell-output-display}\n![](fall-2023_files/figure-revealjs/unnamed-chunk-8-1.png){width=960}\n:::\n:::\n\n----\n\nWhy does this not work?\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(\n  data = states_intersecting_md,\n  mapping = aes(x = long, y = lat)\n) +\n  geom_sf()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError in `geom_sf()`:\n! Problem while computing aesthetics.\n‚Ñπ Error occurred in the 1st layer.\nCaused by error:\n! object 'long' not found\n```\n\n\n:::\n:::\n\n----\n\nWhat is `stringr::str_flatten()` doing?\n\n`str_flatten()` reduces a character vector to a single string.\n\nThis is a **summary function** because regardless of the length of the input `x`, it always returns a single string.\n\n::: {.cell}\n\n```{.r .cell-code}\ncommas <- function(x) {\n  str_flatten(x, collapse = \", \", last = \" and \")\n}\n\ncommas(c(\"cat\", \"dog\", \"pigeon\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"cat, dog and pigeon\"\n```\n\n\n:::\n:::\n\n----\n\n#### Questions about finding and citing data\n\nIs there a large list or repository of good places to find data or is it more of a treasure hunt?\n\nHere is [a big list of possible data sources](https://bldgspatialdata.github.io/website/resources/data-sources.html) including local and national data sources and a set of R packages focused on data access. Many libraries create similar resources for students and researchers to use and some libraries have geospatial data specialists who can assist you in a search.\n\nThere are also a wide variety of scientific data repositories that are typically specific to a domain of research, community of practice, or institution. For example, take a look at this [NIH directory of 130+ data respositories](https://sharing.nih.gov/data-management-and-sharing-policy/sharing-scientific-data/repositories-for-sharing-scientific-data) or the [Environmental Data Initiative (EDI) repository](https://edirepository.org/) used by the long-running Baltimore Ecosystem Study.\n\n---\n\nAre there more sources for *untidy* data? Are there any purposely untidy to be used for tidying practice?\n\nIt turns out there is a [package dedicated to sharing a selection of untidy datasets](https://github.com/kwstat/untidydata2)!\n\n`{tidyr}` also comes with a set of tiny practice datasets (`table1`, `table2`, `table3`, `table4a`, `table4b`, `table5`) for practicing these skills. These [slides from Data Science in a Box](https://datasciencebox.org/course-materials/_slides/u2-d09-tidying/u2-d09-tidying#1) or the [accompanying video](https://www.youtube.com/watch?v=x3KM5uxaFdI) are good resources to review the basics of using the `pivot_` and `separate_` function families to change the strcture of your data.\n\n----\n\nWhat is the best approach for proper citation and credit for data if there is no metadata and it is not clear who created it?\n\nCreate a citation with as much information as you have available using a citation manager such as [Zotero](https://www.zotero.org/). But, also reflect: if you don't know who created the data or how they created the data, should you be *using* the data?\n\n#### Questions about data formats\n\nWhat are the advantages or disadvantages of working with CSV files vs. GeoJSON files vs. other file types?\n\n----\n\nHow do I access data using a Feature Service URL?\n\n<https://services1.arcgis.com/UWYHeuuJISiGmgXx/arcgis/rest/services/CustomerServiceRequest_Prod/FeatureServer/0>\n\n#### Questions about working with Quarto\n\n\nCan use the RStudio debugging tools for code blocks in a `.qmd` file (Quarto document)?\n\nNot really. You could keep your code in one or more R scripts that you can then source into your Quarto document. Or you could extract your code chunks into a R script using the `knitr::purl()` function (for de-bugging purposes only or to use as a source for the document).\n\n----\n\nWhat is the keyboard shortcut to delete empty code chunks?\n\nIt doesn't exist (although it was proposed [via GitHub issue back in November 2021](https://github.com/rstudio/rstudio/issues/10147)). You could probably create one using the [`{shrtcts}` package](https://pkg.garrickadenbuie.com/shrtcts/) or by creating a custom [RStudio Addin](https://rstudio.github.io/rstudioaddins/).\n\n## Week 6: October 4, 2023\n\n## Weekly questions\n\n### Geometric and spatial operations\n\nWhile the concept of a buffer is rather easy to understand for me in other spatial software such as ArcGIS Pro, it was difficult for me to manipulate in R.\n\n----\n\n::: {.cell}\n\n```{.r .cell-code}\nstorms_sf <- storms |>\n  st_as_sf(\n    coords = c(\"long\", \"lat\"),\n    crs = 4326\n  )\n\nstorms_tracks <- storms_sf |>\n  arrange(year, month, day, hour) |>\n  group_by(year, name) |>\n  summarise(\n    avg_wind = mean(wind),\n    geometry = st_cast(st_union(geometry), to = \"LINESTRING\")\n  )\n\nstorms_tracks\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSimple feature collection with 639 features and 3 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: -109.3 ymin: 7 xmax: 13.5 ymax: 70.7\nGeodetic CRS:  WGS 84\n# A tibble: 639 √ó 4\n# Groups:   year [47]\n    year name     avg_wind                                              geometry\n   <dbl> <chr>       <dbl>                                      <LINESTRING [¬∞]>\n 1  1975 Amy          46.5 (-48 47, -51.6 44.5, -54.8 42.5, -58 40.5, -78 33.3,‚Ä¶\n 2  1975 Blanche      45   (-65.2 44, -62.4 47.2, -74.6 32.2, -75 31, -74.9 29.‚Ä¶\n 3  1975 Caroline     38.9 (-90.1 22.8, -91 22.9, -91.9 23, -92.6 23.1, -93.6 2‚Ä¶\n 4  1975 Doris        67.1 (-44.6 34.5, -44.9 34.6, -44 35.4, -44 34.9, -44.2 3‚Ä¶\n 5  1975 Eloise       45   (-81.5 37.5, -82.5 37, -83.5 36.5, -84.3 35.5, -85.7‚Ä¶\n 6  1975 Faye         68.4 (-46 42.8, -40 42.9, -52 42.3, -57.1 41, -63.7 38.4,‚Ä¶\n 7  1975 Gladys       66.3 (-36.7 11, -35.8 10.6, -34.8 10.3, -37.4 11.4, -38.2‚Ä¶\n 8  1975 Hallie       34.6 (-79.4 29.4, -79.7 30, -79.8 30.2, -79.9 30.5, -80.1‚Ä¶\n 9  1976 Belle        68.1 (-75.2 32.5, -75.3 30.9, -75.3 29.5, -75.1 28.1, -73‚Ä¶\n10  1976 Candice      49.5 (-51.2 44.4, -56.4 41.3, -59 41, -59.3 41.2, -68.2 3‚Ä¶\n# ‚Ñπ 629 more rows\n```\n\n\n:::\n:::\n\n\n----\n\nWhat do I mean by \"states that intersect Maryland\"?\n\n----\n\nHow do you create the map (straight line between MD and CA) using ggplot instead of plot?\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(\n  us_states$geometry,\n  main = \"States crossed by a straight line from central Maryland to central California\"\n)\n\nplot(\n  states_crossed$geometry,\n  col = \"grey\",\n  add = TRUE\n)\n\nplot(\n  md_to_cali,\n  color = \"black\",\n  add = TRUE\n)\n```\n:::\n\n### Assorted questions\n\nHow can I streamline my workflow?\n\n### Tidy data questions\n\n----\n\nAre most built in datasets in R already tidy?\n\n----\n\nCan functions from the `{units}` work with any type of variable?\n\n----\n\nWhen might you use both `tidyr::pivot_longer()` and `tidyr::pivot_wider()`? \n\n----\n\nWhat is the purpose of the `.value` parameter used in `names_to` attribute of `pivot_longer()` function?\n\n::: {.cell}\n\n```{.r .cell-code}\nanscombe %>%\n  pivot_longer(\n    everything(),\n    cols_vary = \"slowest\",\n    names_to = c(\".value\", \"set\"),\n    names_pattern = \"(.)(.)\"\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 44 √ó 3\n   set       x     y\n   <chr> <dbl> <dbl>\n 1 1        10  8.04\n 2 1         8  6.95\n 3 1        13  7.58\n 4 1         9  8.81\n 5 1        11  8.33\n 6 1        14  9.96\n 7 1         6  7.24\n 8 1         4  4.26\n 9 1        12 10.8 \n10 1         7  4.82\n# ‚Ñπ 34 more rows\n```\n\n\n:::\n:::\n\n\n::: notes\n\".value\" indicates that the corresponding component of the column name defines the name of the output column containing the cell values, overriding values_to entirely.\n:::\n\n----\n\nHow does `tidyr::pivot_wider()` handle cases with conflicting or duplicate values when pivoting?\n\n\n\n\n## Week 5: September 27, 2023\n\n### Your questions\n\n------------------------------------------------------------------------\n\nHow do I get my own shapefiles into R?\n\n\n::: {.cell}\n\n```{.r .cell-code}\npath <- \"path to your shapefile\"\n\nyour_data <- read_sf(path)\n```\n:::\n\n\n------------------------------------------------------------------------\n\nIs there a \"best\" way to perform specific operations? Or does it depend\non individual preference?\n\nThere isn't a \"best\" way but there are often *better* and *worse* ways.\nIf you have more than one way to achieve the same objective in R, you\ncan compare the approaches using a few related considerations:\n\n-   Performance (speed and memory)\n-   Code readability\n-   Consistency and predictability\n\n------------------------------------------------------------------------\n\nThis presentation on [Styling R\nCode](https://wurli.github.io/r-styling/coffee-and-coding-styling-r-code.html)\nfrom Jacob Scott is one of the best resources I've seen on the topic.\n\nA few related resources:\n\n-   `{lintr}` flags when it detects problems in your code.\n-   `{styler}` can help automatically reformat your code.\n-   Documentation like [the tidyverse style\n    guide](https://style.tidyverse.org/) can inform how you write code.\n\n------------------------------------------------------------------------\n\nHow can you keep track of what is happening when piping data from one\nfunction to another?\n\nThe `{tidylog}` package is one tool for getting more insight into your\npipelines:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidylog, warn.conflicts = FALSE)\n\nmtcars |>\n  filter(cyl == 4) |>\n  mutate(new_var = wt**2) |>\n  select(mpg, cyl, new_var)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                mpg cyl   new_var\nDatsun 710     22.8   4  5.382400\nMerc 240D      24.4   4 10.176100\nMerc 230       22.8   4  9.922500\nFiat 128       32.4   4  4.840000\nHonda Civic    30.4   4  2.608225\nToyota Corolla 33.9   4  3.367225\nToyota Corona  21.5   4  6.076225\nFiat X1-9      27.3   4  3.744225\nPorsche 914-2  26.0   4  4.579600\nLotus Europa   30.4   4  2.289169\nVolvo 142E     21.4   4  7.728400\n```\n\n\n:::\n:::\n\n\nAnother is\n[`{ViewPipeSteps}`](https://github.com/daranzolin/ViewPipeSteps)\n\nThe [debugging tools](https://adv-r.hadley.nz/debugging.html) built into\nR and RStudio can also be useful for trouble-shooting in case of errors\nor unexpected results.\n\n------------------------------------------------------------------------\n\nWhat is the difference between an intensive and extensive variable?\n\nThe concept of *intensive* or *extensive* variables comes to the world\nof spatial data from physics and chemistry. The Wikipedia article on\n[intensive and extensive\nproperties](https://en.wikipedia.org/wiki/Intensive_and_extensive_properties)\nprovides helpful definitions:\n\n-   an intensive property or intensive quantity is one whose magnitude\n    is independent of the size of the system (e.g. temperature,\n    hardness)\n\n-   an extensive property or extensive quantity is one whose magnitude\n    is additive for subsystems (e.g. mass, volume)\n\n### What is due next week\n\nYour weekly check-in response!\n\n### What is due next week\n\nReadings:\n\n-   [Ch. 6 Data tidying](https://r4ds.hadley.nz/data-tidy.html) in\n    Hadley Wickham, Garrett Grolemund, and Mine √áetinkaya-Rundel *R for\n    Data Science: Import, Tidy, Transform, Visualize, and Model Data*,\n    2nd edition (WIP). (Sebastopol, CA: O\\'Reilly Media, 2023),\n    <https://r4ds.hadley.nz/>.\n\n-   [Ch. 20 Joins](https://r4ds.hadley.nz/joins) in Wickham, Grolemund,\n    and √áetinkaya-Rundel *R for Data Science*.\n\n-   Karl W. Broman and Kara H. Woo \\\"Data Organization in\n    Spreadsheets,\\\" *The American Statistician* 72, no. 1 (January 2,\n    2018): 2--10,\n    doi:[10.1080/00031305.2017.1375989](https://doi.org/10.1080/00031305.2017.1375989).\n\n## Week 4: September 20, 2023\n\n### Your questions\n\n![](https://r4ds.hadley.nz/diagrams/data-science/transform.png)\n\n------------------------------------------------------------------------\n\n**How to filter multiple rows from a column?**\n\nIt all depends on the tests or conditions you pass to `filter()`. Review\nthe reading [on the filter\nfunction](https://r4ds.hadley.nz/data-transform#filter) or check out\nthis optional section of R for Data Science on [boolean operations with\nstrings](https://r4ds.hadley.nz/regexps#sec-boolean-operations).\n\n------------------------------------------------------------------------\n\n**How do you set `{tidyselect}` helpers to be case *insensitive*?**\n\n[Check out the\ndocumentation](https://tidyselect.r-lib.org/reference/starts_with.html)!\nLook for the `ignore.case` parameter.\n\n------------------------------------------------------------------------\n\n\"I would love to run through the code for this bar graph in class, since\nI don't totally understand what thought process to use to come up with\nit.\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights |>\n  replace_na(\n    replace = list(arr_delay = 0)\n  ) |>\n  mutate(\n    hour_factor = factor(hour),\n    arr_delay_flag = arr_delay > 5\n  ) |>\n  ggplot(aes(x = hour_factor, fill = arr_delay_flag)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](fall-2023_files/figure-revealjs/unnamed-chunk-16-1.png){width=960}\n:::\n:::\n\n\n### Interesting things\n\nWe all love `filter()`! We also appreciate `distinct()`\n\n------------------------------------------------------------------------\n\n\"I have been working with R for a while now, in classes and for my own\nresearch. The lecture this week and the exercise really helped me\nunderstand the application of all the tools to transform data, which was\nsuper interesting because I often end up doing selections and filters in\nArcGIS Pro or in a csv.\"\n\n### Difficult things\n\n**Answering this question:** Which carrier has the worst average delays?\n**Challenge:** can you disentangle the effects of bad airports vs. bad\ncarriers? Why/why not?\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# flights |>\n#   replace_na(\n#     replace = list(\n#       arr_delay = 0,\n#       dep_delay = 0\n#     )\n#   ) |>\n#   summarise(\n#     n_flights = n(),\n#     n_delay_flights = sum(n > dep_delay),\n#     mean_arr_delay = mean(arr_delay),\n#     mean_dep_delay = mean(dep_delay),\n#     mean_total_delay = mean(arr_delay + dep_delay),\n#     .by = carrier\n#   ) |>\n#   slice_max(order_by = mean_total_delay, n = 10)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nflights |>\n  replace_na(\n    replace = list(\n      arr_delay = 0,\n      dep_delay = 0\n    )\n  ) |>\n  summarise(\n    mean_dep_delay = mean(dep_delay),\n    mean_arr_delay = mean(arr_delay),\n    mean_total_delay_diff = mean(dep_delay - arr_delay),\n    mean_total_delay = mean(dep_delay + arr_delay),\n    .by = carrier\n  ) |>\n  arrange(desc(mean_total_delay))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 16 √ó 5\n   carrier mean_dep_delay mean_arr_delay mean_total_delay_diff mean_total_delay\n   <chr>            <dbl>          <dbl>                 <dbl>            <dbl>\n 1 F9               20.1          21.8                  -1.67             41.9 \n 2 FL               18.3          19.6                  -1.28             37.9 \n 3 EV               18.9          14.9                   4.02             33.8 \n 4 YV               17.2          14.1                   3.14             31.3 \n 5 WN               17.4           9.47                  7.97             26.9 \n 6 9E               15.8           6.91                  8.87             22.7 \n 7 B6               12.9           9.36                  3.55             22.3 \n 8 OO               11.4          10.8                   0.594            22.2 \n 9 MQ               10.1          10.2                  -0.161            20.3 \n10 UA               12.0           3.50                  8.46             15.5 \n11 VX               12.8           1.75                 11.0              14.5 \n12 DL                9.20          1.63                  7.57             10.8 \n13 AA                8.42          0.356                 8.06              8.77\n14 US                3.66          2.06                  1.60              5.72\n15 HA                4.90         -6.92                 11.8              -2.01\n16 AS                5.79         -9.86                 15.6              -4.07\n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n### What is due by this week\n\n-   Complete required readings for [week 4](../weeks/week_04.html)\n-   Submit [response to weekly check-in\n    questions](https://forms.gle/PAKvmQX652e5Eois6)\n-   Complete [Exercise 3](../exercises/exercise_03.html) on `{dplyr}`\n\n### What is coming up for next week\n\n-   Complete required readings for [week 5](../weeks/week_05.html)\n-   Submit [response to weekly check-in\n    questions](https://forms.gle/PAKvmQX652e5Eois6)\n-   Complete [Exercise 4](../exercises/exercise_03.html) on `{sf}` and\n    `{dplyr}` (and a little `{tidyr}`)\n\n## Week 3: September 13, 2023\n\n### What is due by this week\n\n-   Complete required readings for [week 3](../weeks/week_03.html)\n-   Submit [response to weekly check-in\n    questions](https://forms.gle/PAKvmQX652e5Eois6)\n-   Complete [Exercise 2](../exercises/exercise_02.html) on `{ggplot2}`\n\n### What is coming up for next week\n\n-   Complete required readings for [week 4](../weeks/week_04.html)\n-   Submit [response to weekly check-in\n    questions](https://forms.gle/PAKvmQX652e5Eois6)\n-   Complete [Exercise 3](../exercises/exercise_03.html) on `{dplyr}`\n    and `{tidyr}`\n\n### Before we start this week\n\n-   I want to set up reminders for due dates. How about calendar\n    invites?\n-   I am considering shifting the exercise due date from Monday to\n    Tuesday. What do you think?\n\n### What are you finding interesting\n\n-   Ease and speed of plotting spatial data\n-   Setting colors for plots using `scale_` functions from `{ggplot}`\n-   Customizing plots using `theme_` functions from `{ggplot}`\n-   Similarities and differences between R and Python\n\n### What are you finding difficult\n\n-   `ggploty()` didn't work as expected\n-   The `countries` dataset from `{rnaturalearth}`\n-   When to use the `summarize()` function\n\n### Your questions this week\n\n-   Questions about `{ggplot2}`\n-   Questions about `{dplyr}`\n-   Other questions\n\n#### `{ggplot2}` questions\n\n-   If you make a plot with `ggplot()`, when do you need to specify\n    data? And when can you leave it out?\n-   Why do some `geom_` functions work with some variables and not\n    others?\n-   What is the difference between `{tmap}` and `{ggplot2}`?\n\n#### `{dplyr}` questions\n\nWe'll cover both of these questions today:\n\n-   What is `distinct()` actually doing?\n-   How do you use the `.before` and `.after` parameters provided for\n    `mutate()` and `relocate()`?\n\n### Other questions\n\nCheck out the Discord for a few answers:\n\n-   Can you use R for machine learning with big data?\n-   How do I access other datasets with the `{rnaturalearth}`?\n\nPlease post your questions to the Discord!\n\n### Things to think about\n\n-   What does it mean for data to be part of a knowledge system?\n\n## Week 2: September 6, 2023\n\n### What is due by this week\n\n-   Set up R, RStudio, and GitHub Desktop\n-   Complete required readings for [week 1](../weeks/week_01.html) and\n    [week 2](../weeks/week_02.html)\n-   Submit [response to weekly check-in\n    questions](https://forms.gle/PAKvmQX652e5Eois6)\n-   Review [instructions to complete\n    exercises](../course-exercises.html) using RStudio and GitHub\n-   Complete [Exercise 1](../exercises/exercise_01.html) on R basics and\n    the structure of `{sf}` objects\n\n### What is coming up for next week\n\n-   Complete required readings for [week 3](../weeks/week_03.html)\n-   Submit [response to weekly check-in\n    questions](https://forms.gle/PAKvmQX652e5Eois6)\n-   Complete [Exercise 2](../exercises/exercise_02.html) on `{ggplot2}`\n\n### Before we start this week\n\n-   Do you have access to your GitHub repository? Do you understand how\n    to commit changes?\n-   How can you get the most out of the readings?\n-   How do you customize your settings in RStudio?\n-   Where can you get help if you need it?\n-   What are we doing for the final project?\n\n### Your questions this week\n\n-   Why do some functions require arguments and other functions do not?\n-   What are some of the best ways of sharing reproducible methods?\n-   How do you get data that you create into R?\n-   What is a vector tile? What is the difference between raster and\n    vector tiles?\n-   What does the function `ggplot2::aes()` and the attributes passed to\n    the function really do?\n-   Do you need to re-install your packages every time you start work?\n\nReminder: questions are *required* as part of the weekly check-in.\n\n## Week 1: September 6, 2023\n\n-   Welcome!\n\n### What is due by this week\n\n-   Join the Discord chat\n\n# Upcoming Updates\n\n## Week 8: October 18, 2023\n\n## Week 9: October 25, 2023\n\n## Week 10: November 1, 2023\n\n## Week 11: November 8, 2023\n\n## Week 12: November 15, 2023\n\n## Week 13: November 22, 2023\n\n## Week 14: November 29, 2023\n\n## Week 15: December 6, 2023\n\n",
    "supporting": [
      "fall-2023_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}