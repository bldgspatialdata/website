{
  "hash": "e9b3c1fb0d39cd147c22b7ebf9451ffa",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Reading and writing spatial data\"\n---\n\n\n## Spatial data is everywhere\n\n- Shapefiles, GeoJSON files, and other spatial data files\n- Spatial data editing and hosting services, e.g. [ArcGIS Online](https://www.esri.com/en-us/arcgis/products/arcgis-online/overview) or [Felt](https://felt.com/maps/recent))\n- Open data portals serving spatial and non-spatial data, e.g. [data.gov](https://data.gov/)\n\n## Spatial data is everywhere\n\n- Google Maps, Apple Maps, Waze, and navigation apps (on your phone or [in your vehicle](https://support.google.com/googleappsincar/answer/9941814?hl=en))\n- Biking and running apps (Strava publishes a [global user activity heatmap](https://www.strava.com/heatmap#11.21/-76.64618/39.34348/hot/all))\n- Web browsers on your phone and desktop application\n\n## Spatial data is everywhere\n\n- Phone camera photos (stored in the EXIF metadata)\n- Calendars ([iCal](https://en.wikipedia.org/wiki/ICalendar)), contacts ([vCard](https://en.wikipedia.org/wiki/VCard)), and emails (using [IP address](https://en.wikipedia.org/wiki/Internet_geolocation) locations)\n\n## Creating spatial data is \"easy\"\n\n- GIS Desktop applications, e.g. [QGIS](https://qgis.org/)\n- Web mapping applications (e.g. [geojson.io](https://geojson.io/#map=2/0/20), [Felt](https://felt.com/))\n- Spreadsheet applications (e.g. [Google Sheets](https://sheets.google.com/))\n- Database builders (e.g. [Airtable](https://airtable.com/) or [Microsoft Lists](https://support.microsoft.com/en-us/office/introduction-to-lists-0a1c3ace-def0-44af-b225-cfa8d92c52d7))\n\n## What can we do with it all?\n\n- Read and write spatial data files\n- Read and write related data files\n- Read from and write to web services\n\n## Common spatial file formats\n\n- Shapefile (`.shp`)\n- GeoJSON (`.json`, `.geojson`)\n- GeoPackage (`.gpkg`)\n- KML - Keyhole Markup Language (`.kml`)\n- Esri File Geodatabase (`.gdb`)\n\n::: notes\n\n- Vector spatial: Shapefile, [GeoJSON](https://en.wikipedia.org/wiki/GeoJSON), KML\n- Raster spatial: [GeoTIFF](https://en.wikipedia.org/wiki/GeoTIFF), \n- Tabular data with geometry: CSV, Microsoft Excel, delimited text with coordinates or WKT (well known text)\n\n:::\n\n## Read spatial data files with R\n\nThe `dsn` or data source name for `sf::read_sf()` can include:\n\n- a file name\n- a URL\n- a folder\n- the name and access credentials of a database\n- a character string with the contents of a GeoJSON file\n\n\n## Read spatial data files with R\n\nYou can use the `query` parameter of `sf::read_sf()` to use a SQL query to select records from a file (or select a specific geographical extent).\n\n## How can we make more\n\nCreate new spatial and non-spatial data using:\n\n- Spatial data editors\n- Cameras and sensors\n- Forms and surveys\n- Spreadsheet editors\n\n# Key Concepts\n\n## What is a file format?\n\n## What is a web service?\n\nhttps://en.wikipedia.org/wiki/Web_service\n\n## What is a schema?\n\n- table definitions,\n- integrity assertions,\n- format limitations,\n- and content constraints\n\n# Spatial data files\n\n\n\n\n## Spatial file formats *must* include non-spatial data\n\n- Date created or modified\n- \n  \n## Many file formats *can* include spatial data\n  \n  - vCard or VCF (Virtual Contact File)\n- EXIF metadata JPEG, HEIC\n\n## Other types of data\n\n- File and service metadata\n- Version data (change sets)\n- \n  \n  ## Reading data into R\n  \n  - Read data using `{sf}`\n- Read data using a package that returns a `sf` object\n- Read data and use `{sf}` to convert to a `sf` object\n\n## Writing data from R\n\n- Write data to a spatial file using `{sf}`\n- Write data a a non-spatial file using a different package\n\nWhen you write spatial data to a non-spatial format, you should drop the geometry or convert the geometry to coordinates or well-known text.\n\n\n## Storing and creating data\n\n- Tabular: CSV, Microsoft Excel, delimited text\n- Nested: JSON\n\n----\n\n![](https://www.census.gov/content/dam/Census/newsroom/blogs/2016/04/understanding-census-bureau-address-ranges/Orris-figure.jpg)\n\n::: notes\nCensus data\n\n:::\n\n----\n\n![](https://r-spatial.org/images/gis2.png)\n\n----\n\n![](https://r-spatial.org/images/gis3.png)\n\n---\n\n![](https://i0.wp.com/transportgeography.org/wp-content/uploads/esri_shapefile_model.png?w=1800&ssl=1)\n\n::: notes\n\nShapefiles\n:::\n\n----\n\n![](https://developers.google.com/static/kml/documentation/images/classTree52.gif)\n::: notes\n\nKML\n\nSource: https://developers.google.com/kml/documentation/kmlreference\n:::\n\n![](https://wiki.openstreetmap.org/w/images/thumb/1/10/ERD_of_OSM_DB.svg/1280px-ERD_of_OSM_DB.svg.png)\n\n::: notes\n\nOpen Street Map\n\nSVG: https://wiki.openstreetmap.org/wiki/File:ERD_of_OSM_DB.svg\n:::\n\n----\n\n\n![](https://www.e-education.psu.edu/geog583/sites/www.e-education.psu.edu.geog583/files/OGC_Standards.jpg)\n\n\n## GDAL\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(googlesheets4)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# read_sheet()\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}